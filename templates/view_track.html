<!DOCTYPE html>
<html lang="en">

<head>
  <title>Album Companion</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="/favicon.ico">
	<!-- <link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
	<link rel="apple-touch-icon" href="/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="//favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/favicon-180.png"> -->
	<!-- <meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/favicon-144.png">
	<meta name="msapplication-config" content="/browserconfig.xml"> -->
  <link rel="stylesheet" href="https://bootswatch.com/3/cosmo/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
  <script>var selected_album = '{{song_dict.album_id}}';</script>
  <script>var selected_song = '{{song_dict.sp_id}}';</script>
  <script>var s_energy = '{{song_dict.energy}}';</script>
  <script>var s_mood = '{{song_dict.mood}}';</script>
  <script>var s_valence = '{{song_dict.valence}}';</script>
  <script>var s_lyrvalence = '{{song_dict.lyr_valence}}';</script>
  <script>var s_dance = '{{song_dict.danceability}}';</script>
  <script>var s_title = '{{song_dict.title}}';</script>
  <script>var s_tracknum = '{{song_dict.track}}';</script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sparklines/2.1.2/jquery.sparkline.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/postscribe/2.0.8/postscribe.min.js"></script>
  <script src="{{ url_for('static', filename='js/album.js') }}"></script>
  <!-- <script src="{{ url_for('static', filename='js/song_data.js') }}"></script> -->
</head>

<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header" id="navbar-header">
      <a class="navbar-brand">Search for your song</a>
      <!-- <a class="navbar-brand" href="#">"{{ song_dict.title }}" by {{ song_dict.artist }}</a> -->
    </div>

    <!-- <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2"> -->
        <form class="navbar-form navbar-left" action="{{ url_for('search_result') }}" method="post" role="search">
          <!-- <form class="navbar-form navbar-left" role="search"> -->
        <div class="form-group">
          <input type="text" id="search_form_input" class="form-control" name="track-search" placeholder="Song title + artist" autocomplete="off">
        <button type="submit" class="btn btn-default">Submit</button>
      </div>


      </form>
    </div>
  <!-- </div> -->
</nav>

<body style="background-color:#4a5266;">

    
    <div class="container-fluid">
    <div class="row">
      <div class="col-sm-1">
      </div>
      <div class="col-sm-3">
        <div id="spotify_player" align="center">
          <iframe src="https://open.spotify.com/embed/track/{{ song_dict.sp_id }}" width="350" height="250" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
          </div>
          <table table class="table table-striped table-hover " style="width:350px" align="center">
            <thead>
              <tr tr class="active">
                <th>#</th>
                <th>Track</th>
              </tr>
            </thead>
            <tbody id="album_table"></tbody>
          </table>
      </div>
      <div class="col-sm-4">
      <div align="center">
        <div class="panel panel-primary" id="lyrics-panel">
          <div class="panel-heading">
            <h3 class="panel-title" id="header">"{{ song_dict.title }}" by {{ song_dict.artist }}</h3>
          </div>
          <div class="panel-body">
            <!-- <div id="lyrics-placeholder">No data.</div> -->
        <!-- <div id="embed_lyrics"></div> -->
        <!-- <script id = "genius_script"></script> -->
        <div id="rg_embed_link_{{song_dict.genius_songid}}" class="rg_embed_link" data-song-id="{{song_dict.genius_songid}}">Read <a href="{{song_dict.url}}">{{song_dict.title}} by {{song_dict.artist}}</a> on Genius</div> <script crossorigin src="//genius.com/songs/{{song_dict.genius_songid}}/embed.js"></script>          </div>
        </div>
             </div></div>
      <div align="center" class="col-sm-3">
        <div class="panel panel-primary" style="width:350px">
          <div class="panel-heading">
            <h3 class="panel-title">Track Attributes</h3>
          </div>
          <!-- <div class="panel-body" id="attributes"> -->
            <!-- <div id="attributes-placeholder">No data.</div> -->
            <!-- <p><b>Time Signature</b>: {{ song_dict.time_signature}}/4</p>
            <p><b>Key</b>: {{ song_dict.song_key}} {{ song_dict.mode}}</p>
            <p><b>Energy</b>: {{ song_dict.energy_des}} ({{ song_dict.energy}})</p>
            <p><b>Overall Mood</b>: {{ song_dict.mood_des}} ({{ song_dict.mood}})</p>
            <p><b>Musical Valence</b>: {{ song_dict.valence_des}} ({{ song_dict.valence}})</p>
            <p><b>Lyrical Sentiment</b>: {{ song_dict.lyr_valence_des}} ({{ song_dict.lyr_valence}})</p>
            <p><b>Danceability</b>: {{ song_dict.dance_des}} ({{ song_dict.danceability}})</p> -->
            <table class="table table-striped table-hover ">
              <tbody>
                <tr>
            <td><b>Time Signature</b></td><td>{{ song_dict.time_signature}}/4</td><td><span></span></td></tr>
            <tr><td><b>Key</b></td><td>{{ song_dict.song_key}} {{ song_dict.mode}}</td><td><span></span></td></tr>
            <tr><td><b>Energy</b></td><td>{{ song_dict.energy_des}} ({{ song_dict.energy}})</td><td><span class="barchart-energy"></span></td></tr>
            <tr><td><b>Overall Mood</b></td><td>{{ song_dict.mood_des}} ({{ song_dict.mood}})</td><td><span class="barchart-mood"></span></td></tr>
            <tr><td><b>Musical Valence</b></td><td>{{ song_dict.valence_des}} ({{ song_dict.valence}})</td><td><span class="barchart-valence"></span></td></tr>
            <tr><td><b>Lyrical Sentiment</b></td><td>{{ song_dict.lyr_valence_des}} ({{ song_dict.lyr_valence}})</td><td><span class="barchart-lyrics"></span></td></tr>
            <tr><td><b>Danceability</b></td><td>{{ song_dict.dance_des}} ({{ song_dict.danceability}})</td><td><span class="barchart-dance"></span></td></tr>
            <style type="text/css">
              .tooltip-class {
                  width: 29px;
                  height: 23px;
                  color:#00FFFF;
                  background-color: transparent;
                  margin: 0;    
              }
        </style>
            <script type="text/javascript">
            
              $(".barchart-energy").sparkline([0.5,s_energy,1,0,0], {
                type: 'bullet',
                targetWidth: 1,
                targetColor: '#000000',
                performanceColor: '#2b64bf',
                disableInteraction: true
              });

              $(".barchart-mood").sparkline([0.5,s_mood,1,0,0], {
                type: 'bullet',
                targetWidth: 1,
                targetColor: '#000000',
                performanceColor: '#2b64bf',
                disableInteraction: true});

              $(".barchart-valence").sparkline([0.5,s_valence,1,0,0], {
                type: 'bullet',
                targetWidth: 1,
                targetColor: '#000000',
                performanceColor: '#2b64bf',
                disableInteraction: true});

              $(".barchart-lyrics").sparkline([0.5,s_lyrvalence,1,0,0], {
                type: 'bullet',
                targetWidth: 1,
                targetColor: '#000000',
                performanceColor: '#2b64bf',
                disableInteraction: true});

              $(".barchart-dance").sparkline([0.5,s_dance,1,0,0], {
                type: 'bullet',
                targetWidth: 1,
                targetColor: '#000000',
                performanceColor: '#2b64bf',
                disableInteraction: true});
              </script>
          </tbody>
          </table>
          </div>
          <div id="vibe_chart"></div>
          <div id="track_chart"></div>
        </div>
      </div>
      <div class="col-sm-1">
      </div>
    </div>

</body>


</html>